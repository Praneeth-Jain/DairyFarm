@model DairyFarm.Model.CowDetailsViewModel
<div class="cattleview-cow-details">
    <h2>🐄 @Model.Name</h2>
    <ul>
        <li>
            <span data-bs-toggle="tooltip" data-bs-placement="top" title="Breed">🧬</span> @Model.Breed
        </li>
        <li>
            <span data-bs-toggle="tooltip" data-bs-placement="top" title="Birth Date">🎂</span> @Model.DOB.ToString("yyyy-MM-dd")
        </li>
        <li>
            <span data-bs-toggle="tooltip" data-bs-placement="top" title="Total Milk Produced">🥛</span> @Model.TotalMilkProduced L
        </li>
        <li>
            <span data-bs-toggle="tooltip" data-bs-placement="top" title="Income Through Milk">💰</span> Rs.@Model.MilkIncome
        </li>
        <li>
            <span data-bs-toggle="tooltip" data-bs-placement="top" title="Feed Expense">🍽️</span> Rs.@Model.FeedExpense
        </li
        ><li>
            <span data-bs-toggle="tooltip" data-bs-placement="top" title="Medical Expense">💉</span> Rs.@Model.MedicalExpense
        </li>
        <li>
            <span data-bs-toggle="tooltip" data-bs-placement="top" title="Profit">💸</span> Rs.@Model.Profit
        </li>
        
    </ul>
</div>

<div class="cattleview-buttons">
    <button id="cattleview-add-feed-btn" class="btn btn-success">Add Feed Details</button>
    <button id="cattleview-add-milk-btn" class="btn btn-primary">Add Milk Production</button>
</div>

<script>
    $("#cattleview-add-feed-btn").on("click", function () {
        const cowId = $(".cattleview-cow-item.active").data("cow-id");

        if (!cowId) {
            alert("Please select a cow first.");
            return;
        }

        $.ajax({
            url: `/Cattle/CattleView?handler=FeedForm&cowId=${cowId}`,
            type: "GET",
            success: function (data) {
                $("#cattleview-form-content").html(data);
            },
            error: function () {
                alert("Failed to load feed form.");
            }
        });
    });

    $("#cattleview-add-milk-btn").on("click", function () {
        const cowId = $(".cattleview-cow-item.active").data("cow-id");

        if (!cowId) {
            alert("Please select a cow first.");
            return;
        }

        $.ajax({
            url: `/Cattle/MilkProductionHandler?handler=MilkProductionForm&cowId=${cowId}`,
            type: "GET",
            success: function (data) {
                $("#cattleview-form-content").html(data);
            },
            error: function () {
                alert("Failed to load milk production form.");
            }
        });
    });


    document.addEventListener("DOMContentLoaded", function () {
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        tooltipTriggerList.forEach(function (tooltipTriggerEl) {
            new bootstrap.Tooltip(tooltipTriggerEl);
        });
    });
</script>

